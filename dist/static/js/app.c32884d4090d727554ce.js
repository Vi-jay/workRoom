webpackJsonp([2,0],{0:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=o(160),r=n(a),i=o(478),s=n(i),l=o(477),c=n(l),u=o(463),p=n(u),h=o(157),m=o(159),d=o(467),f=o(158),y=o(156),g=o(464),v=o(465),_=o(466);o(461),r.default.use(s.default),r.default.use(c.default),r.default.use(g.wj_component);var b=[{path:"/monthChart",component:h},{path:"/todayChart",component:m},{path:"/shopStock",component:f},{path:"/shopCallBack",component:d},{path:"/bottleTrack",component:y},{path:"/home",component:v},{path:"/index",component:_}],O=new s.default({linkActiveClass:"active",routes:b});O.push("/index"),new r.default({el:"#app",template:"<App/>",components:{App:p.default},router:O}).$mount("#app")},156:function(t,e,o){o(460);var n=o(20)(o(181),o(476),null,null);t.exports=n.exports},157:function(t,e,o){o(454);var n=o(20)(o(184),o(470),null,null);t.exports=n.exports},158:function(t,e,o){o(452);var n=o(20)(o(186),o(468),null,null);t.exports=n.exports},159:function(t,e,o){o(456);var n=o(20)(o(187),o(472),null,null);t.exports=n.exports},179:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(54),r=n(a);e.default={data:function(){return{allResource:{monthBuyType:{},todayBuyType:{},monthOrderData:{},todayOrderData:{},shopCallBack:{},shopStock:{}},routers:{"首页":"index","月销量图表":"monthChart","日销量图表":"todayChart","分站库存":"shopStock","分站回瓶率":"shopCallBack","气瓶轨迹图":"bottleTrack","统计总览":"home"},icon_class:"icon-arrow_lift",flag:!0,today:this.thisDay,lastTwoMonthDay:this.twoMonthAgo,lastMonthDay:this.oneMonthAgo,destroyTimer:{}}},methods:{changeIcon:function(){var t=document.getElementsByClassName("myIcon"),e=document.getElementsByClassName("tab_wrapper")[0];if(this.flag){for(var o=0;o<t.length;o++)t[o].style.transform="translate3d(0,0,0) rotate(180deg)";e.style.opacity=0,e.style.marginLeft="-900px",this.flag=!1}else{for(var n=0;n<t.length;n++)t[n].style.transform="translate3d(0,0,0) rotate(720deg)";e.style.opacity=1,e.style.marginLeft=0,this.flag=!0}},initOrderData:function(t){for(var e=new Array,o=0;o<t.length;o++){var n={};n.shopName=t[o].second_category_name,n.numFor5KG=t[o].num_for_5KG,n.numFor15KG=t[o].num_for_15KG,n.numFor50KG=t[o].num_for_50KG,n.numFor2KG=t[o].num_for_2KG,n.CountTotal=n.numFor5KG+n.numFor15KG+n.numFor50KG+n.numFor2KG,e.push(n)}return e},initOrderTypeData:function(t){for(var e=new Array,o={},n=0;n<t.length;n++){var a={};switch(null!=o[t[n].second_category_name]&&(a=o[t[n].second_category_name]),t[n].mode_name){case"门店自提":a.pickUpInSotre=t[n].orderNumber;break;case"电话订气":a.telephoneOrder=t[n].orderNumber;break;case"微信订气":a.weiXinOrder=t[n].orderNumber}o[t[n].second_category_name]=a}var r={};for(var i in o)r.shopName="总计",r["门店自提"]=null==o[i].pickUpInSotre?0:o[i].pickUpInSotre,r["电话订气"]=null==o[i].telephoneOrder?0:o[i].telephoneOrder,r["微信订气"]=null==o[i].weiXinOrder?0:o[i].weiXinOrder,e.push(r);return e},getData:function(){var t=this;this.$http.post(this.basePath+"/saleModeReport/getSaleModeReportInfo",{begin_report_time:this.getCurrentMonthFirst(),end_report_time:this.getCurrentMonthLast()}).then(function(e){var o=t.initOrderTypeData(e.body.rows);(0,r.default)(o)!=(0,r.default)(t.allResource.monthBuyType)&&(t.allResource.monthBuyType=o,"monthBuy"===t.$refs.compoents.name&&t.$refs.compoents.setMonthMapOption())}),this.$http.post(this.basePath+"/saleModeReport/getSaleModeReportInfo",{begin_report_time:this.today,end_report_time:this.today}).then(function(e){var o=t.initOrderTypeData(e.body.rows);(0,r.default)(o)!=(0,r.default)(t.allResource.todayBuyType)&&(t.allResource.todayBuyType=o,"todayBuy"===t.$refs.compoents.name&&t.$refs.compoents.setTodayMapOption())}),this.$http.post(this.basePath+"/saleReport/getSaleReportInfoByAirBottleTypeInfo",{begin_report_time:this.today,end_report_time:this.today}).then(function(e){var o=t.initOrderData(e.body.rows);(0,r.default)(o)!=(0,r.default)(t.allResource.todayOrderData)&&(t.allResource.todayOrderData=o,"bottleTrack"===t.$refs.compoents.name&&t.$refs.compoents.setOption(),"todayBuy"===t.$refs.compoents.name&&t.$refs.compoents.setTodayLineOption())}),this.$http.post(this.basePath+"/saleReport/getSaleReportInfoByAirBottleTypeInfo",{begin_report_time:this.getCurrentMonthFirst(),end_report_time:this.getCurrentMonthLast()}).then(function(e){var o=t.initOrderData(e.body.rows);(0,r.default)(o)!=(0,r.default)(t.allResource.monthOrderData)&&(t.allResource.monthOrderData=o,"monthBuy"===t.$refs.compoents.name&&t.$refs.compoents.setMonthLineOption())}),this.$http.post(this.basePath+"/returnBottleRateReport/getStoreReturnBottleDetailReportInfo",{begin_report_time:this.lastTwoMonthDay,end_report_time:this.today}).then(function(e){var o=t.initAvgReturnBottleRateData(e.body.rows,t.lastTwoMonthDay,t.lastMonthDay,t.today);(0,r.default)(o)!=(0,r.default)(t.allResource.shopCallBack)&&(t.allResource.shopCallBack=o,"shopCallBack"===t.$refs.compoents.name&&t.$refs.compoents.setOption())}),this.$http.get(this.basePath+"/store/getStoreInventoryInfo").then(function(e){var o=t.initStoreInventoryData(e.body.data.rows);(0,r.default)(o)!=(0,r.default)(t.allResource.shopStock)&&(t.allResource.shopStock=o,"shopStock"===t.$refs.compoents.name&&t.$refs.compoents.setOption())})}},created:function(){var t=this;this.destroyTimer=setTimeout(function(){t.getData(),setInterval(function(){t.getData()},8e3)})},computed:{thisDay:function(){return this.NowDateTime()},twoMonthAgo:function(){return this.getPreDay(this.today,60)},oneMonthAgo:function(){return this.getPreDay(this.today,30)}},destroyed:function(){clearTimeout(this.destroyTimer)}}},180:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(54),r=n(a),i=o(160),s=n(i),l=o(85),c=new s.default;c.install=function(t,e){t.mixin({methods:{getPreDay:function(t,e){var o=Date.parse(t);o-=24*e*60*60*1e3;var n=new Date;return n.setTime(o),this.getYYYYMMDDStr(n)},NowDateTime:function(){var t=new Date;return this.getYYYYMMDDStr(t)},getYYYYMMDDStr:function(t){var e=t.getFullYear(),o=t.getMonth()+1,n=o<10?"0"+o:o,a=t.getDate(),r=a<10?"0"+a:a;return e+"-"+n+"-"+r},getDate:function(t){var e=t.split("-"),o=new Date(e[0],e[1]-1,e[2]);return o},initOrderData:function(t){for(var e=Array,o=0;o<t.length;o++){var n={};n.shopName=t[o].second_category_name,n.numFor5KG=t[o].num_for_5KG,n.numFor15KG=t[o].num_for_15KG,n.numFor50KG=t[o].num_for_50KG,n.numFor2KG=t[o].num_for_2KG,n.CountTotal=n.numFor5KG+n.numFor15KG+n.numFor50KG+n.numFor2KG,e.unshift(n)}return alert((0,r.default)(e)),e},getCurrentMonthFirst:function(){var t=new Date;return t.setDate(1),this.getYYYYMMDDStr(t)},getCurrentMonthLast:function(){var t=new Date,e=t.getMonth(),o=++e,n=new Date(t.getFullYear(),o,1),a=864e5;return this.getYYYYMMDDStr(new Date(n-a))},initOrderTypeData:function(t){for(var e=Array,o={},n=0;n<t.length;n++){var a={};switch(null!=o[t[n].second_category_name]&&(a=o[t[n].second_category_name]),t[n].mode_name){case"门店自提":a.pickUpInSotre=t[n].orderNumber;break;case"电话订气":a.telephoneOrder=t[n].orderNumber;break;case"微信订气":a.weiXinOrder=t[n].orderNumber}o[t[n].second_category_name]=a}var i={};for(var s in o)i.shopName="总计",i["门店自提"]=null==o[s].pickUpInSotre?0:o[s].pickUpInSotre,i["电话订气"]=null==o[s].telephoneOrder?0:o[s].telephoneOrder,i["微信订气"]=null==o[s].weiXinOrder?0:o[s].weiXinOrder,e.push(i);return alert((0,r.default)(e)),e},getTimeList:function(t,e){for(var o=t,n=e,a=this.getDate(o),r=this.getDate(n),i=[];r.getTime()-a.getTime()>=0;){var s=this.getYYYYMMDDStr(a);i.push(s),a.setTime(a.getTime()+864e5)}return i},initAvgReturnBottleRateData:function(t,e,o,n){for(var a={},r={},i={},s=this,l=0;l<t.length;l++)if("海岛站"==t[l].second_category_name||"南面站"==t[l].second_category_name||"九门寨站"==t[l].second_category_name||"博美站"==t[l].second_category_name){null==r[t[l].second_category_name]&&(r[t[l].second_category_name]=t[l].second_category_name),null==i[t[l].order_date]&&(i[t[l].order_date]=t[l].order_date);var c={getNum:0,returnNum:0},u=t[l].second_category_name+"/"+t[l].order_date;null!=a[u]&&(c=a[u]),c.returnNum+=t[l].returnBottleNum,c.getNum+=t[l].getBottleNum,a[u]=c}var p={};for(var h in r)for(var m in i){var d=h+"/"+m;if(null!=a[d]){var f=[];null!=p[h]&&(f=p[h]);var y={date:m,rate:1*a[d].returnNum/a[d].getNum*100};f.push(y),p[h]=f}}var g=[];for(var v in r)if(null!=p[v]){var _=p[v];_.sort(function(t,e){var o=s.getDate(t.date),n=s.getDate(e.date);return o>n?1:-1});for(var b=[],O=0,C=0;C<_.length;C++){var M={};M.date=_[C].date,M.cnt=C,O+=_[C].rate,M.rate=_[C].rate,M.rateSum=O,b.push(M)}var D=s.getTimeList(s.getPreDay(s.NowDateTime(),30),s.NowDateTime()),G={};G.shopName=v;for(var K=[],x=0,S=[],T=[],F=0;F<D.length;F++){var w=s.findSumListIndex(b,D[F]),k=void 0;if(w==-1)k=x;else{var B=w>=30?30:w;k=(b[w].rateSum-b[w-B].rateSum)/B}x=k,S.push(s.getMMDDStr(s.getDate(D[F]))),T.push(k.toFixed(1))}K.push(S),K.push(T),G.data=K,g.push(G)}return g},initStoreInventoryData:function(t){for(var e=[],o={},n=0;n<t.length;n++)if("空瓶"!=t[n].air_bottle_state){var a={};switch(null!=o[t[n].second_category_name]&&(a=o[t[n].second_category_name]),t[n].air_bottle_specifications){case"2KG":a.numFor2KG=t[n].inventory_num;break;case"5KG":a.numFor5KG=t[n].inventory_num;break;case"15KG":a.numFor15KG=t[n].inventory_num;break;case"50KG":a.numFor50KG=t[n].inventory_num}o[t[n].second_category_name]=a}for(var r in o){var i={};i.shopName=r,i.numFor5KG=null==o[r].numFor5KG?0:o[r].numFor5KG,i.numFor15KG=null==o[r].numFor15KG?0:o[r].numFor15KG,i.numFor50KG=null==o[r].numFor50KG?0:o[r].numFor50KG,i.numFor2KG=null==o[r].numFor2KG?0:o[r].numFor2KG,e.push(i)}return e},getMMDDStr:function(t){var e=(t.getFullYear(),t.getMonth()+1),o=e<10?"0"+e:e,n=t.getDate(),a=n<10?"0"+n:n;t.getHours(),t.getMinutes();return o+"-"+a},findSumListIndex:function(t,e){for(var o=0;o<t.length;o++)if(t[o].date==e)return o;return-1}},data:function(){return{echart:l,basePath:"/energymanage"}}})},e.default={wj_component:c}},181:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o(188),e.default={props:{allResource:{type:Object}},data:function(){return{name:"bottleTrack",iconPath:"image://../img/M@TA@Z_LH2NU]O_CS$1973U.png",coordinateWarehouse:{"虎门能源大厦":[113.688928,22.828019],"博美站":[113.697827,22.830519],"中心站":[113.682103,22.824481],"树田站":[113.761973,22.824781],"上庙站":[113.763962,22.835113],"矮岗站":[113.750075,22.848477],"新丰站":[113.739096,22.847114],"居岐站":[113.747865,22.831144],"陈村站":[113.731201,22.862101],"大宁站":[113.720708,22.82639],"大板地站":[113.731945,22.81528],"北栅站":[113.726977,22.841284],"龙眼站":[113.710054,22.846737],"赤岗站":[113.718321,22.85594],"社岗站":[113.701448,22.837408],"白沙站":[113.675312,22.856849],"镇口站":[113.664051,22.840026],"解放站":[113.665911,22.827771],"金洲站":[113.699231,22.810751],"郭武站":[113.704163,22.824416],"小捷滘站":[113.70411,22.807393],"南栅站":[113.696301,22.783833],"平岗站":[113.712892,22.790896],"东风站":[113.684972,22.79881],"路东站":[113.724473,22.770515],"沙角站":[113.689415,22.770571],"凤凰山站":[113.707353,22.762476],"渔港站":[113.682116,22.788814],"海岛站":[113.649961,22.822829],"九门寨站":[113.672871,22.809495],"南面站":[113.655873,22.810177],"稔洲站":[113.640373,22.85695]},color:["#364F6B","#3FC1C9","A7B99E","A7B99E"],series:[{name:"公司到门店",type:"lines",coordinateSystem:"bmap",zlevel:1,effect:{show:!0,period:6,trailLength:.7,color:"#cccccc",symbolSize:10},lineStyle:{normal:{color:"#cccccc",width:0,curveness:.5}},data:this.changeData},{name:"公司到门店",type:"lines",coordinateSystem:"bmap",zlevel:2,effect:{show:!0,scaleSize:2,period:6,color:"#cccccc",shadowBlur:10,trailLength:0,symbol:"image://../img/M@TA@Z_LH2NU]O_CS$1973U.png",symbolSize:20},itemStyle:{normal:{borderWidth:1,lineStyle:{type:"solid",shadowBlur:10}}},lineStyle:{normal:{color:"#A64942",width:2,opacity:.4,curveness:.5}},markPoint:{effect:{show:!0,shadowBlur:0},itemStyle:{normal:{label:{show:!1}},emphasis:{label:{position:"top"}}}},data:this.changeData},{name:"公司到门店",type:"effectScatter",coordinateSystem:"bmap",zlevel:3,rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"right",formatter:"{b}",textStyle:{color:"#A64942",fontSize:13,fontWeight:"bolder"}}},symbol:"image://../img/acd.png",symbolSize:function(t){return t[2]/4},itemStyle:{normal:{color:"#a64942"}},data:this.trackData}],option:{backgroundColor:"transparent",tooltip:{trigger:"item"},legend:{orient:"vertical",top:"bottom",left:"right",textStyle:{color:"#2C3E50"},selectedMode:"single"},dataRange:{min:0,max:100,x:"right",calculable:!0,color:["#2F1B41","#4F6332","#8561b0","#8561b0","aqua"],textStyle:{color:"#fff"}},bmap:{center:[113.689167,22.827634],zoom:14,roam:!1},series:this.series},companyToShopData:[],TrackChart:{},oldCount:0}},methods:{convertData:function(t){for(var e=[],o=0;o<t.length;o++){var n=t[o],a=this.coordinateWarehouse[n[0].name],r=this.coordinateWarehouse[n[1].name];a&&r&&e.push({fromName:n[0].name,toName:n[1].name,coords:[a,r]})}return e},refreshTrack:function(){this.series[0].data=this.convertData(this.companyToShopData),this.series[1].data=this.convertData(this.companyToShopData);var t=this;this.series[2].data=this.companyToShopData.map(function(e){return{name:e[1].name,value:t.coordinateWarehouse[e[1].name].concat([e[1].value])}}),this.option.series=this.series,this.TrackChart.setOption(this.option)},setOption:function(){var t=[],e=this.allResource.todayOrderData,o=this;e.forEach(function(n,a){var r=e[a].CountTotal-o.oldCount;o.oldCount=e[a].CountTotal,r>0&&(r>1&&r<3?t.push([{name:"虎门能源大厦"},{name:n.shopName,value:40}]):r>3&&r<5?t.push([{name:"虎门能源大厦"},{name:n.shopName,value:70}]):t.push([{name:"虎门能源大厦"},{name:n.shopName,value:100}]))}),t.length>0&&(this.companyToShopData=t,this.refreshTrack())}},created:function(){var t=this;this.$nextTick(function(){t.TrackChart=t.echart.init(document.getElementById("bottleTrack")),t.setOption()})},destroyed:function(){this.TrackChart.dispose()},computed:{changeData:function(){return this.convertData(this.companyToShopData)},trackData:function(){var t=this;return this.companyToShopData.map(function(e){return{name:e[1].name,value:t.coordinateWarehouse[e[1].name].concat([e[1].value])}})},symbolPath:function(){return"path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891"}}}},182:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(157),a=o(159),r=o(156),i=o(158);e.default={props:{allResource:{type:Object}},components:{monthChart:n,todayChart:a,bottleTrack:r,shopStock:i}}},183:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{flag:!1}},created:function(){var t=this;this.$nextTick(function(){t.flag=!0})}}},184:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{allResource:{type:Object}},data:function(){return{monthLineOption:{backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2KG","5KG","15KG","50KG"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:[]},series:[]},name:"monthBuy",monthChart:{},monthMap:{},allBottleName:{numFor2KG:"2KG",numFor5KG:"5KG",numFor15KG:"15KG",numFor50KG:"50KG"},monthMapOption:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:[]},series:[{name:"购买来源",type:"pie",radius:"55%",center:["50%","60%"],data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{normal:{show:!0,smooth:!0,length:5,length2:6}}}]},color:{numFor2KG:"rgb(144, 237, 125)",numFor5KG:"rgb(67, 67, 72)",numFor15KG:"rgb(124, 181, 236)",numFor50KG:"rgb(247, 163, 92)"},openMonthChangeFlag:!0,monthSetTime:{}}},methods:{setMonthLineOption:function(){var t=5,e=[],o=[],n=void 0,a={numFor2KG:[],numFor5KG:[],numFor15KG:[],numFor50KG:[]},r=this,i=this.allResource.monthOrderData;i.forEach(function(s,l){var c=parseInt(l/t),u=r.openMonthChangeFlag?500:5e3*(c+1);r.monthSetTime=setTimeout(function(){if(!r.monthChart.isDisposed()){l%t==0&&(e=[],o=[],a={numFor2KG:[],numFor5KG:[],numFor15KG:[],numFor50KG:[]}),e.push(s.shopName);for(var c in a)a[c].push(s[c]);if((l+1)%t==0||l+1==i.length){r.openMonthChangeFlag=!1,r.monthLineOption.yAxis.data=e,r.monthLineOption.series.splice(0,r.monthLineOption.series.length);for(var u in a)n=r.allBottleName[u],r.monthLineOption.series.push({name:n,type:"bar",stack:"总量",label:{normal:{position:"insideRight"}},itemStyle:{normal:{color:r.color[u]}},data:a[u]});return r.monthChart.setOption(r.monthLineOption),l+1==i.length&&r.setMonthLineOption(),""}}},u)})},setMonthMapOption:function(){var t=[],e=[],o=this.allResource.monthBuyType,n=o[0];for(var a in n)"shopName"!=a&&(t.push({value:o[0][a],name:a}),e.push(a));this.monthMapOption.series[0].data=t,this.monthMapOption.legend.data=e,this.monthMap.setOption(this.monthMapOption)},setOption:function(){this.setMonthMapOption(),this.setMonthLineOption()}},created:function(){var t=this;this.$nextTick(function(){t.monthChart=t.echart.init(document.getElementById("monthChart")),t.monthMap=t.echart.init(document.getElementById("monthMap")),t.setOption()})},destroyed:function(){clearTimeout(this.monthSetTime),this.monthChart.dispose(),this.monthMap.dispose()}}},185:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"shuaige",props:{allResource:{type:Object}},data:function(){return{name:"shopCallBack",shopCallBackOption:{backgroundColor:"transparent",tooltip:{trigger:"axis"},toolbox:{feature:{magicType:{show:!0,type:["line","bar"]},saveAsImage:{show:!0}}},legend:{data:[]},xAxis:[{type:"category",data:[]}],yAxis:[{type:"value",name:"气站回瓶百分比",min:0,max:100,interval:20,axisLabel:{formatter:"{value} %"}}],series:[{name:"",type:"line",data:[]},{name:"",type:"line",data:[]}]},shopCallBack:{}}},methods:{setOption:function(){for(var t={shopName:[],data:[]},e=[],o=this.getDate(this.lastMonthDay).getTime(),n=0;n<30;n++){o+=864e5;var a=new Date(o),r=a.getMonth()+1,i=r<10?"0"+r:r,s=a.getDate(),l=s<10?"0"+s:s;e.push(i+"-"+l)}this.allResource.shopCallBack.forEach(function(o,n){var a=[],r=o.data[0],i=o.data[0].length,s=o.data[1],l=!1;t.shopName.push(o.shopName),e.forEach(function(t,e){for(var o=0;o<i;o++)if(r[o]==t){a.push(s[o]),l=!0;break}l||(a.push(0),l=!1)}),t.data.push(a)}),this.shopCallBackOption.legend.data=t.shopName,this.shopCallBackOption.xAxis[0].data=e;var c=[];t.data.forEach(function(e,o){c.push({name:t.shopName[o],type:"line",data:e})}),this.shopCallBackOption.series=c,this.shopCallBack.setOption(this.shopCallBackOption)}},created:function(){var t=this;this.$nextTick(function(){t.shopCallBack=t.echart.init(document.getElementById("shopCallBack")),t.setOption()})},computed:{lastMonthDay:function(){return this.getPreDay(this.NowDateTime(),30)},lastTwoMonthDay:function(){return this.getPreDay(this.NowDateTime(),60)}},destroyed:function(){this.shopCallBack.dispose()}}},186:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(54),r=n(a);e.default={props:{allResource:{type:Object}},data:function(){return{shopStockOption:{backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:[]},series:[]},allBottleName:{numFor2KG:"2KG型气瓶",numFor5KG:"5KG型气瓶",numFor15KG:"15KG型气瓶",numFor50KG:"50KG型气瓶"},itemColor:{"2KG型气瓶":"rgb(244, 91, 91)","5KG型气瓶":"rgb(128, 133, 233)","15KG型气瓶":"rgb(141, 70, 84)","50KG型气瓶":"rgb(124, 181, 236)"},shopStock:{},name:"shopStock"}},methods:{setOption:function(){var t=this,e=this.allResource.shopStock,o=this.shopStockOption,n=[],a=void 0,r=[],i={};e.forEach(function(e,o){n.push(e.shopName);for(var s in e)"shopName"!=s&&(a=t.allBottleName[s],i[a]||(i[a]=[]),i[a].push(e[s]),r.push(a))}),o.yAxis.data=n,o.legend.data=r,o.series.splice(0,o.series.length);for(var s in i)o.series.push({name:s,type:"bar",data:i[s],itemStyle:{normal:{color:this.itemColor[s]}}});this.shopStockOption=o,this.shopStock.setOption(this.shopStockOption)}},created:function(){var t=this;this.$nextTick(function(){t.shopStock=t.echart.init(document.getElementById("shopStock")),"{}"!=(0,r.default)(t.allResource.shopStock)&&t.setOption()})},destroyed:function(){this.shopStock.dispose()}}},187:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{allResource:{type:Object}},data:function(){return{todayLineOption:{backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2KG","5KG","15KG","50KG"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:[]},series:[]},allBottleName:{numFor2KG:"2KG",numFor5KG:"5KG",numFor15KG:"15KG",numFor50KG:"50KG"},todayMapOption:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:[]},series:[{name:"购买来源",type:"pie",radius:"55%",center:["50%","60%"],data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{normal:{show:!0,smooth:!0,length:5,length2:6}}}]},color:{numFor2KG:"rgb(144, 237, 125)",numFor5KG:"rgb(67, 67, 72)",numFor15KG:"rgb(124, 181, 236)",numFor50KG:"rgb(247, 163, 92)"},todayMap:{},todayChart:{},name:"todayBuy",todaySetTime:{},openMonthChangeFlag:!0}},methods:{setTodayLineOption:function(){var t=5,e=[],o=[],n=void 0,a={numFor2KG:[],numFor5KG:[],numFor15KG:[],numFor50KG:[]},r=this,i=this.allResource.todayOrderData;i.forEach(function(s,l){var c=parseInt(l/t),u=r.openMonthChangeFlag?500:5e3*(c+1);r.todaySetTime=setTimeout(function(){if(!r.todayChart.isDisposed()){l%t==0&&(e=[],o=[],a={numFor2KG:[],numFor5KG:[],numFor15KG:[],numFor50KG:[]}),e.push(s.shopName);for(var c in a)a[c].push(s[c]);if((l+1)%t==0||l+1==i.length){r.openMonthChangeFlag=!1,r.todayLineOption.yAxis.data=e,r.todayLineOption.series.splice(0,r.todayLineOption.series.length);for(var u in a)n=r.allBottleName[u],r.todayLineOption.series.push({name:n,type:"bar",stack:"总量",label:{normal:{position:"insideRight"}},itemStyle:{normal:{color:r.color[u]}},data:a[u]});return r.todayChart.setOption(r.todayLineOption),l+1==i.length&&r.setTodayLineOption(),""}}},u)})},setTodayMapOption:function(){var t=[],e=[],o=this.allResource.todayBuyType,n=o[0];for(var a in n)"shopName"!=a&&(t.push({value:o[0][a],name:a}),e.push(a));this.todayMapOption.series[0].data=t,this.todayMapOption.legend.data=e,this.todayMap.setOption(this.todayMapOption)},setOption:function(){this.setTodayMapOption(),this.setTodayLineOption()}},created:function(){var t=this;this.$nextTick(function(){t.todayChart=t.echart.init(document.getElementById("todayChart")),t.todayMap=t.echart.init(document.getElementById("todayMap")),t.setOption()})},computed:{},destroyed:function(){this.todayChart.dispose()}}},188:function(t,e,o){var n,a,r;(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=o(189),l=i(s),c=o(54),u=i(c),p=o(192),h=i(p);!function(i,s){"object"==(0,h.default)(e)&&"object"==(0,h.default)(t)?t.exports=s(o(85)):(a=[o(85)],n=s,r="function"==typeof n?n.apply(e,a):n,!(void 0!==r&&(t.exports=r)))}(void 0,function(t){return function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){var n;n=function(t){return o(1).registerCoordinateSystem("bmap",o(2)),o(3),o(4),o(1).registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(t,e){e.eachComponent("bmap",function(t){var e=t.getBMap(),o=e.getCenter();t.setCenterAndZoom([o.lng,o.lat],e.getZoom())})}),{version:"1.0.0"}}.call(e,o,e,t),!(void 0!==n&&(t.exports=n))},function(e,o){e.exports=t},function(t,e,o){var n;n=function(t){function e(t,e){this._bmap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e}function n(){function t(t){this._root=t}return t.prototype=new BMap.Overlay,t.prototype.initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}var a=o(1);e.prototype.dimensions=["lng","lat"],e.prototype.setMapOffset=function(t){this._mapOffset=t},e.prototype.getBMap=function(){return this._bmap},e.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),o=this._bmap.pointToOverlayPixel(e),n=this._mapOffset;return[o.x-n[0],o.y-n[1]]},e.prototype.pointToData=function(t){var e=this._mapOffset,t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]});return[t.lng,t.lat]},e.prototype.getViewRect=function(){var t=this._api;return new a.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},e.prototype.getRoamTransform=function(){return a.matrix.create()};var r;return e.dimensions=e.prototype.dimensions,e.create=function(t,o){var a,i=o.getDom();t.eachComponent("bmap",function(t){var s=o.getZr().painter.getViewportRoot();if("undefined"==typeof BMap)throw new Error("BMap api is not loaded");if(r=r||n(),a)throw new Error("Only one bmap component can exist");if(!t.__bmap){var l=i.querySelector(".ec-extension-bmap");l&&(s.style.left="0px",s.style.top="0px",i.removeChild(l)),l=document.createElement("div"),l.style.cssText="width:100%;height:100%",l.classList.add("ec-extension-bmap"),i.appendChild(l);var c=t.__bmap=new BMap.Map(l),u=new r(s);c.addOverlay(u)}var c=t.__bmap,p=t.get("center"),h=t.get("zoom");if(p&&h){var m=new BMap.Point(p[0],p[1]);c.centerAndZoom(m,h)}a=new e(c,o),a.setMapOffset(t.__mapOffset||[0,0]),t.coordinateSystem=a}),t.eachSeries(function(t){"bmap"===t.get("coordinateSystem")&&(t.coordinateSystem=a)})},e}.call(e,o,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,o){var n;n=function(t){function e(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}return o(1).extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,o){var n=this.option;return!(e(t,n.center)&&o===n.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}})}.call(e,o,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,o){var n;n=function(t){return o(1).extendComponentView({type:"bmap",render:function(t,e,o){function n(){a||o.dispatchAction({type:"bmapRoam"})}var a=!0,r=t.getBMap(),i=o.getZr().painter.getViewportRoot(),s=t.coordinateSystem,c=function e(n,r){if(!a){var l=i.parentNode.parentNode.parentNode,e=[-parseInt(l.style.left,10)||0,-parseInt(l.style.top,10)||0];i.style.left=e[0]+"px",i.style.top=e[1]+"px",s.setMapOffset(e),t.__mapOffset=e,o.dispatchAction({type:"bmapRoam"})}};r.removeEventListener("moving",this._oldMoveHandler),r.removeEventListener("zoomend",this._oldZoomEndHandler),r.addEventListener("moving",c),r.addEventListener("zoomend",n),this._oldMoveHandler=c,this._oldZoomEndHandler=n;var p=t.get("roam");p&&"scale"!==p?r.enableDragging():r.disableDragging(),p&&"move"!==p?(r.enableScrollWheelZoom(),r.enableDoubleClickZoom(),r.enablePinchToZoom()):(r.disableScrollWheelZoom(),r.disableDoubleClickZoom(),r.disablePinchToZoom());var h=t.__mapStyle,m=t.get("mapStyle")||{},d=(0,u.default)(m);(0,u.default)(h)!==d&&((0,l.default)(m).length&&r.setMapStyle(m),t.__mapStyle=JSON.parse(d)),a=!1}})}.call(e,o,e,t),!(void 0!==n&&(t.exports=n))}])})}).call(e,o(479)(t))},452:function(t,e){},453:function(t,e){},454:function(t,e){},455:function(t,e){},456:function(t,e){},457:function(t,e){},458:function(t,e){},459:function(t,e){},460:function(t,e){},461:function(t,e){},462:function(t,e,o){t.exports=o.p+"static/img/logo.f7dc5fe.png"},463:function(t,e,o){o(459);var n=o(20)(o(179),o(475),null,null);t.exports=n.exports},464:function(t,e,o){o(458);var n=o(20)(o(180),o(474),null,null);t.exports=n.exports},465:function(t,e,o){o(453);var n=o(20)(o(182),o(469),null,null);t.exports=n.exports},466:function(t,e,o){o(455);var n=o(20)(o(183),o(471),null,null);t.exports=n.exports},467:function(t,e,o){o(457);var n=o(20)(o(185),o(473),null,null);t.exports=n.exports},468:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"shopStock"}})])}]}},469:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"homeWrapper"},[o("div",{staticClass:"inside insideCenterBorder"},[t._m(0),t._v(" "),o("todayChart",{staticClass:"item itemBorder",attrs:{allResource:t.allResource}}),t._v(" "),t._m(1),t._v(" "),o("bottleTrack",{staticClass:"item",attrs:{allResource:t.allResource}})],1),t._v(" "),o("div",{staticClass:"inside"},[t._m(2),t._v(" "),o("monthChart",{staticClass:"item itemBorder",attrs:{allResource:t.allResource}}),t._v(" "),t._m(3),t._v(" "),o("shopStock",{staticClass:"item",attrs:{allResource:t.allResource}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("strong",[t._v("本日销售报表:")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("strong",[t._v("气瓶配送实时轨迹图:")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("strong",[t._v("本月销售报表:")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("strong",[t._v("分站库存报表:")])])}]}},470:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"monthChart"}}),t._v(" "),o("div",{attrs:{id:"monthMap"}})])}]}},471:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"wrapper"},[n("img",{staticClass:"image",attrs:{src:o(462)}}),t._v(" "),n("p",{staticClass:"text"},[t._v("欢迎使用富民燃气系统！")])])])],1)},staticRenderFns:[]}},472:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"todayChart"}}),t._v(" "),o("div",{attrs:{id:"todayMap"}})])}]}},473:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"shopCallBack"}})])}]}},474:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div")},staticRenderFns:[]}},475:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"tab_wrapper"},t._l(t.routers,function(e,n,a){return o("div",{staticClass:"tab_item"},[o("router-link",{attrs:{to:e}},[t._v(t._s(n))])],1)})),t._v(" "),o("div",{staticClass:"Icons",on:{click:t.changeIcon}},[o("i",{staticClass:"myIcon",class:t.icon_class}),t._v(" "),o("i",{staticClass:"myIcon",class:t.icon_class}),t._v(" "),o("i",{staticClass:"myIcon",class:t.icon_class})]),t._v(" "),o("router-view",{ref:"compoents",staticClass:"viewItem",attrs:{allResource:t.allResource}})],1)},staticRenderFns:[]}},476:function(t,e){
t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"bottleTrack"}})])}]}},514:function(t,e){}});